(function(a,b){dshop.add("editor",function(){var c=function(e){kissybase="http://a.tbcdn.cn/s/kissy/1.1.7/??kissy-min.js,uibase/uibase-pkg-min.js,dd/dd-pkg-min.js,overlay/overlay-pkg-min.js,editor/editor-all-pkg-min.js";resetbase="http://a.tbcdn.cn/s/kissy/1.1.7/cssreset/reset-min.css",editorbase="http://a.tbcdn.cn/s/kissy/1.1.7/editor/theme/base-min.css",lt8="http://a.tbcdn.cn/s/kissy/1.1.7/editor/theme/cool/editor-pkg-sprite-min.css",gte8="http://a.tbcdn.cn/s/kissy/1.1.7/editor/theme/cool/editor-pkg-min-datauri.css";var f=false,h=false;function g(){if(!f){dshop.mods.loadcss(resetbase);dshop.mods.loadcss(editorbase);if(b.browser.msie&&b.browser.version<8){dshop.mods.loadcss(lt8)}else{dshop.mods.loadcss(gte8)}f=true}}function d(i){g();if(!h){b.getScript(kissybase,i);h=true}else{i()}}return{init:function(i){d(function(){b(function(){var k="http://a.tbcdn.cn/s/kissy/1.1.7/";KISSY.Config.base=k;var j=KISSY.Editor;j.Config.base=k+"editor/plugins/";a[e]=new j(i,{attachForm:true,baseZIndex:10000,pluginConfig:{image:{upload:{serverUrl:"some.jsp",surfix:"png,jpg,jpeg,gif",fileInput:"Filedata",sizeLimit:5000}},resize:{direction:["y"]}}}).use("elementpaths,sourcearea,preview,undo,separator,removeformat,font,format,color,list,indent,justify,link,image")})})}}};dshop.mods.editor=c})})(window,jQuery);